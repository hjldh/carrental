# 렌트카계약(CarRental)

# Table of contents
- [렌트카](#---)
  - [서비스 시나리오](#서비스-시나리오)
  - [체크포인트](#체크포인트)
  - [분석/설계](#분석설계)
  - [구현:](#구현-)
    - [DDD 의 적용](#ddd-의-적용)
	- [GateWay적용](#GateWay-적용)
	- [CQRS/saga/correlation](#폴리글랏-퍼시스턴스)
    - [동기식 호출 과 Fallback 처리](#동기식-호출-과-Fallback-처리)
	- [폴리글랏 퍼시스턴스](#폴리글랏-퍼시스턴스)
	
  - [운영](#운영)
    - [CI/CD 설정](#cicd설정)
    - [Deploy / Pipeline](#Deploy-Pipeline)
    - [ConfigMap](#ConfigMap)		
    - [동기식 호출 / 서킷 브레이킹 / 장애격리](#동기식-호출-서킷-브레이킹-장애격리)
    - [오토스케일 아웃](#오토스케일-아웃)
    - [무정지 재배포](#무정지-재배포)
    - [Liveness Probe](#Liveness-Probe)
	

# 서비스 시나리오

기능적 요구사항
1.	고객이 차량을 선택하여 계약(Contract)한다.
2.	고객이 결제(Pay)한다.
3.	계약이 되면 계약 내역이 조회 페이지(MyPage)로 전달된다.
4.	결제가 완료되면 차량 예약(Reservation)이 완료된다.
5.	고객이 계약을 취소할 수 있다.
6.	계약이 취소되면 차량 예약이 취소된다.
7.	고객이 결제 및 예약 상태를 한화면에서 확인 할 수 있다.

비기능적 요구사항
1.	트랜잭션
	i.	계약이 되지 않은 결제는 아예 성립되지 않아야 한다 Sync 호출
2.	장애격리
	i.	예약 기능이 수행되지 않더라도 계약은 365일 24시간 받을 수 있어야 한다 Async (event-driven), Eventual Consistency
	ii.	결제시스템이 과중되면 사용자를 잠시동안 받지 않고 결제를 잠시후에 하도록 유도한다 Circuit breaker, fallback
3.	성능
	i.	계약자가 일련의 차량 계약에 대한 상태를 조회 화면(MyPage)에서 확인할 수 있어야 한다 CQRS

# 체크포인트
